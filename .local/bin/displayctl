#!/bin/sh

# TODO: fix nvidia hdmi
# TODO: detect what outputs are available
mon0="eDP-1"
mon1="HDMI-A-1"

choice="$1"
[ -z "$choice" ] && {
	choices="mono duel mirror"
	choice="$(CH_LINES=5 CH_WIDTH=100 CH_PROMPT="ðŸ–µ Display Control" choose $choices)"
}

case "$choice" in
	"mono")
		swaymsg output "$mon0" pos 0 0
		swaymsg output "$mon1" disable
		swaymsg workspace 1 output "$mon0"
		swaymsg workspace 2 output "$mon0"
		swaymsg workspace 3 output "$mon0"
		swaymsg workspace 4 output "$mon0"
		swaymsg workspace 5 output "$mon0"
		swaymsg workspace 6 output "$mon0"
		swaymsg workspace 7 output "$mon0"
		swaymsg workspace 8 output "$mon0"
		swaymsg workspace 9 output "$mon0"
		swaymsg workspace 10 output "$mon0"
		;;
	"duel")
		swaymsg output "$mon0" pos 0 1080
		swaymsg output "$mon1" pos 0 0
		swaymsg workspace 1 output "$mon0"
		swaymsg workspace 2 output "$mon1"
		swaymsg workspace 3 output "$mon0"
		swaymsg workspace 4 output "$mon1"
		swaymsg workspace 5 output "$mon0"
		swaymsg workspace 6 output "$mon1"
		swaymsg workspace 7 output "$mon0"
		swaymsg workspace 8 output "$mon1"
		swaymsg workspace 9 output "$mon0"
		swaymsg workspace 10 output "$mon1"
		;;
	"mirror")
		# TODO
		;;
	"*")
		return 1
		;;
esac
