
Install nix
```sh
sh <(curl -L https://nixos.org/nix/install) --daemon
echo 'trusted-users = tedj' | sudo tee --append /etc/nix/nix.conf
nix --extra-experimental-features 'nix-command flakes' develop github:tedski999/dots --command home-manager switch --flake .config/nix#tedj@tedj
# git clone https://github.com/tedski999/dots .config/nix
```

Set user shell
```sh
echo "$HOME/.local/state/nix/profile/bin/zsh" | sudo tee --append /etc/shells
sudo chsh -s $HOME/.local/state/nix/profile/bin/zsh tedj
```

Disable GDM
```sh
sudo systemctl disable gdm
```

Install swaylock systemd-wide due to PAM integration stuff.
```sh
sudo apt install swaylock
```

Autologin to /etc/systemd/system/getty@tty1.service.d/skip-prompt.conf to autologin.
```sh
mkdir /etc/systemd/system/getty@tty1.service.d
echo '[Service]
ExecStart=
ExecStart=-/usr/bin/agetty --skip-login --nonewline --noissue --autologin tedj --noclear %I $TERM' | sudo tee /etc/systemd/system/getty@tty1.service.d/skip-prompt.conf
```
