{
	"ipc": true,

	"layer": "top",
	"position": "top",
	"height": 30,
	"spacing": 0,

	// TODO: non-primary display modules
	// TODO: vpn icon
	"modules-left": ["sway/workspaces", "sway/scratchpad", "sway/window"],
	"modules-center": [],
	"modules-right": ["custom/media", "custom/caffeinated", "custom/pacman", "gamemode", "bluetooth", "cpu", "memory", "temperature", "disk", "network", "wireplumber", "battery", "clock"],

	"sway/workspaces": {
		"format": "{index}"
	},

	"sway/window": {
		"max-length": 200
	},

	"custom/media": {
		"exec": "~/.config/waybar/modules/media",
		"return-type": "json",
		"interval": 1,
		"on-click": "playerctl play-pause",
		"on-scroll-up": "playerctl position 5+",
		"on-scroll-down": "playerctl position 5-"
	},

	"custom/caffeinated": {
		"exec": "~/.config/waybar/modules/caffeinated",
		"return-type": "json",
		"tooltip": true,
		"interval": 1,
		"on-click": "powerctl uncaffeinate",
	},

	"custom/pacman": {
		"exec": "~/.config/waybar/modules/pacman",
		"return-type": "json",
		"tooltip": true,
		"interval": 3600,
		"signal": 8,
		"on-click": "alacritty --class floating --command sudo pacman -Syu; pkill -SIGRTMIN+8 waybar",
		"on-click-right": "pkill -SIGRTMIN+8 waybar",
	},

	"gamemode": {
		"format": "{count}",
		"format-alt": "{count}",
		"tooltip-format": "Gaming™",
		"use-icon": false,
		"icon-spacing": 0,
		"icon-size": 0
	},

	"bluetooth": {
		"format": "",
		"format-connected": "{num_connections}",
		"tooltip-format": "{device_alias}",
		"on-click": "networkctl bluetooth"
	},

	"cpu": {
		"interval": 1,
		"format": "{icon0}{icon1}{icon2}{icon3}{icon4}{icon5}{icon6}{icon7}",
		"format-icons": [
			"<span color='#00ff00'>▁</span>",
			"<span color='#00ff00'>▂</span>",
			"<span color='#00ff00'>▃</span>",
			"<span color='#00ff00'>▄</span>",
			"<span color='#ff8000'>▅</span>",
			"<span color='#ff8000'>▆</span>",
			"<span color='#ff8000'>▇</span>",
			"<span color='#ff0000'>█</span>"
		],
		"on-click": "alacritty --class floating --command btop"
	},

	"memory": {
		"interval": 5,
		"format": "{icon}",
		"format-icons": [
			"<span color='#00ff00'>▁</span>",
			"<span color='#00ff00'>▂</span>",
			"<span color='#00ff00'>▃</span>",
			"<span color='#00ff00'>▄</span>",
			"<span color='#ff8000'>▅</span>",
			"<span color='#ff8000'>▆</span>",
			"<span color='#ff8000'>▇</span>",
			"<span color='#ff0000'>█</span>"
		],
		"tooltip-format": "RAM: {used:0.1f}Gib ({percentage}%)\nSWP: {swapUsed:0.1f}Gib ({swapPercentage}%)",
		"on-click": "alacritty --class floating --command btop"
	},

	"temperature": {
		"thermal-zone": 6,
		"critical-threshold": 80,
		"interval": 5,
		"on-click": "alacritty --class floating --command btop"
	},

	"disk": {
		"format": "{free}",
		"on-click": "alacritty --class floating --command btop"
	},

	"network": {
		"interval": 10,
		"max-length": 10,
		"format-wifi": "{essid}",
		"format-ethernet": "wired",
		"format-disconnected": "offline",
		"on-click": "networkctl wifi",
		"on-click-right": "case \"$(nmcli radio wifi)\" in \"enabled\") nmcli radio wifi off;; *) nmcli radio wifi on;; esac"
	},

	"wireplumber": {
		"max-volume": 150,
		"states": { "high": 75 },
		"on-click": "alacritty --class floating --command pulsemixer",
		"on-click-right": "wpctl set-mute @DEFAULT_SINK@ toggle"
	},

	"battery": {
		"interval": 10,
		"states": { "warning": 30, "critical": 15 },
		"format": "{capacity}%",
		"on-click": "powerctl",
		"on-scroll-up": "light -U 1",
		"on-scroll-down": "light -A 1"
	},

	"clock": {
		"format": "{:%H:%M}",
		"tooltip-format": "{calendar}",
		"on-click": "notify-send \"$(date)\" \"$(date \"+Day %j, Week %V, %Z (%:z)\")\"",
		"actions":  {
			"on-click-right": "mode",
			"on-scroll-up": "shift_up",
			"on-scroll-down": "shift_down"
		},
		"calendar": {
			"mode": "month",
			"mode-mon-col": 3,
			"on-click-right": "mode",
			"on-scroll": 1,
			"format": {
				"months":   "<span color='#8080ff'>{}</span>",
				"days":     "<span color='#ffffff'>{}</span>",
				"weekdays": "<span color='#ff8000'><b>{}</b></span>",
				"today":    "<span color='#ff0000'><b>{}</b></span>"
			}
		}
	}
}
